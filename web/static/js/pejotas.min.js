/**
 * pejotas 4.0.0
 * @license ARV Klerix @ 2016 
 * @author: Jordi Aguilar <klerix.com>
 */
var $pjs=$pjs||{version:"4.0.0",divs:{},controllers:[]};!function(e){e.fn.pejotas=function(e){$pjs.render(this)}}(jQuery),$pjs.debugLevel=2,$pjs.messageLevels={1:"e",2:"w",3:"n",4:"d",5:"v"},$pjs.plainConsole=!1,$pjs.report=function(e,o,s){if(console&&console.log){o=o||4,s=s||"darkcyan";var n=$pjs.messageLevels[o],r="[Youbora] "+n+": ";if("undefined"!=typeof $pjs.remoteLog&&$pjs.remoteLog.enabled===!0&&$pjs.remoteLog(r+e),$pjs.debugLevel>=o)if($pjs.plainConsole||document.documentMode)$pjs.plainReport(e,r);else{var i=console.log;1==o&&console.error?i=console.error:2==o&&console.warn?i=console.warn:o>=4&&console.debug&&(i=console.debug),r="%c"+r,e instanceof Array?(e.splice(0,0,r,"color: "+s),i.apply(console,e)):i.call(console,r,"color: "+s,e)}}},$pjs.plainReport=function(e,o){if(e instanceof Array)for(var s in e)$pjs.plainReport(s);else"string"==typeof e?console.log(o+e):(console.log(o+"<next line>"),console.log(e))},$pjs.error=function(){$pjs.report([].slice.call(arguments),1,"darkred")},$pjs.warn=function(){$pjs.report([].slice.call(arguments),2,"darkorange")},$pjs.notice=function(){$pjs.report([].slice.call(arguments),3,"darkcyan")},$pjs.noticeRequest=function(){$pjs.report([].slice.call(arguments),3,"darkgreen")},$pjs.debug=function(){$pjs.report([].slice.call(arguments),4,"indigo")},$pjs.verbose=function(){$pjs.report([].slice.call(arguments),5,"navy")},$pjs.director={render:function(e){$pjs.divs.main=$('<div class="pjs" />').appendTo(e),$pjs.director._drawMenu(),$pjs.director._drawBody(),$pjs.director._initRouter()}},$pjs.render=function(e){$pjs.director.render(e)},$pjs.director.menuItems=[{name:"Inicio",icon:"fa-home",route:"/"},{name:"Listar Habilidades",icon:"fa-list",route:"/habilidades/lista"},{name:"Subir personaje",icon:"fa-cloud-upload",route:"personajes/subir"}],$pjs.director._drawMenu=function(){$pjs.divs["menu-container"]=$('<div class="pjs-menu-container" />').appendTo($pjs.divs.main),$pjs.divs.menu=$('<div class="pjs-menu" />').appendTo($pjs.divs["menu-container"]),$("<span>Pejotas <em>v"+$pjs.version+"</em></span>").appendTo($pjs.divs.menu);var e=$("<menu />").appendTo($pjs.divs.menu);$('<span id="pjs-menu-selector"></span>').appendTo(e);for(var o=0;o<$pjs.director.menuItems.length;o++){var s=$pjs.director.menuItems[o];$pjs.director._drawMenuItem(e,s)}},$pjs.director._drawMenuItem=function(e,o){var s='<a title="'+o.name+'"><i class="fa '+o.icon+'" aria-hidden="true"></i></a>';$(s).on("mouseout",function(e){$("#pjs-menu-selector").text("")}).on("mouseover",function(e){$("#pjs-menu-selector").text(this.title)}).on("click",function(e){$pjs.router.navigate(o.route)}).appendTo(e)},$pjs.director._drawBody=function(){$pjs.divs["body-container"]=$('<div class="pjs-body-container" />').appendTo($pjs.divs.main),$pjs.divs.body=$('<div class="pjs-body" />').appendTo($pjs.divs["body-container"])},$pjs.spinner={show:function(){$pjs.divs.body.html("Cargando..."),$pjs.divs["menu-container"].addClass("loading")},hide:function(){$pjs.divs["menu-container"].removeClass("loading")}},$pjs.router=new Navigo,$pjs.director._initRouter=function(){$.each($pjs.controllers,function(e,o){$pjs.router.on(o).resolve()}),$pjs.router.on("*",function(){$pjs.divs.body.html("Route not found")}).resolve()},$pjs.controllers.push({"/habilidades/lista":function(e){$pjs.divs.body.html("habs")}}),$pjs.controllers.push({"/personajes/subir":function(e){$pjs.divs.body.html("upload")}}),$pjs.controllers.push({"/":function(e){$pjs.spinner.show(),setTimeout(function(){$pjs.divs.body.html("Inicio"),$pjs.spinner.hide()},5e3)}});